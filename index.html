<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Portfolio</title>
    <link rel="icon" type="image/png" href="profile.jpg">
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome for icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css" />

    <!-- Google Calendar Appointment Scheduling CSS & Script -->
    <link href="https://calendar.google.com/calendar/scheduling-button-script.css" rel="stylesheet">
    <script src="https://calendar.google.com/calendar/scheduling-button-script.js" async></script>

  </head>
  <body>
    <!-- Modernized Header (Navbar) -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top modern-header">
      <div class="container">
        <a class="navbar-brand" id="navbar-brand" href="#"></a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto" id="navbar-links"></ul>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <header id="Home" class="hero-section d-flex align-items-center justify-content-center">
      <div id="particles-js"></div>
      <div class="hero-content container text-center">
        <h1 id="hero-name" class="display-4"></h1>
        <p id="hero-role" class="lead"></p>
        <!-- Removed download resume button -->
      </div>
      <div class="scroll-indicator">
        <a href="#about" style="color: #fff"><i class="fa fa-angle-down"></i></a> <!-- Link to the next section -->
      </div>
    </header>

    <!-- About Section -->
    <section id="about" class="py-5">
      <div class="container">
        <h2 id="about-heading" class="mb-4"></h2>
        <div class="row">
          <div class="col-md-4">
            <img
              src="profile.jpg"
              alt="Profile Picture"
              class="img-fluid rounded-circle mb-3"
            />
          </div>
          <div class="col-md-8">
            <br><br><br><br><br>
            <p id="about-content"></p>
          </div>
        </div>
      </div>
    </section>

    <!-- Experience Section -->
    <section id="experience" class="py-5 bg-light">
      <div class="container">
        <h2 id="experience-heading" class="mb-4"></h2>
        <div class="timeline" id="experience-container"></div>
      </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="projects-section">
      <div class="container">
        <h2 id="projects-heading" class="mb-4 text-center"></h2>
        <div class="row row-cols-1 row-cols-md-2 g-4" id="projects-container">
          <!-- Example project card -->
          <div class="col">
            <div class="card project-card h-100">
              <!-- <img src="project-image.jpg" class="card-img-top" alt="Project Image"> -->
              <div class="card-body project-card-body">
                <h5 class="card-title project-card-title">Project Title</h5>
                <p class="card-text project-card-text">Project description goes here.</p>
                <a href="#" class="btn btn-primary">Learn More</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Skills Section -->
    <section id="skills" class="py-5 bg-light">
      <div class="container">
        <h2 id="skills-heading" class="mb-4"></h2>
        <div class="row">
          <div class="col-md-6">
            <h5>Languages</h5>
            <ul id="skills-languages"></ul>
          </div>
          <div class="col-md-6">
            <h5>Frameworks & Tools</h5>
            <ul id="skills-tools"></ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Education & Certifications Section -->
    <section id="education" class="py-5">
      <div class="container">
        <h2 id="education-heading" class="mb-4"></h2>
        <div class="row">
          <div class="col-md-6">
            <h5>Education</h5>
            <div id="education-education"></div>
          </div>
          <div class="col-md-6">
            <h5>Certifications</h5>
            <ul id="education-certifications"></ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Books Section -->
    <section id="books" class="py-5 bg-light">
      <div class="container">
        <h2 id="books-heading" class="mb-4"></h2>
        <div class="row" id="books-container"></div>
      </div>
    </section>

    <!-- Podcast Section -->
    <section id="podcast" class="py-5">
      <div class="container">
        <h2 id="podcast-heading" class="mb-4"></h2>
        <div class="card">
          <div class="card-body text-center">
            <h5 id="podcast-title" class="card-title"></h5>
            <p id="podcast-description" class="card-text"></p>
            <a id="podcast-link" href="" class="btn btn-success" target="_blank">
              Listen on <i class="fab fa-spotify"></i> <!-- Spotify logo -->
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-5 bg-light">
      <div class="container">
        <h2 id="contact-heading" class="mb-4"></h2>
        <div class="row">
          <div class="col-md-6">
            <p>
              <i class="fa-solid fa-envelope"></i>
              <a id="contact-email" href=""></a>
            </p>
            <p>
              <i class="fa-solid fa-location-dot"></i>
              <span id="contact-location"></span>
            </p>
            <p>
              <i class="fa-brands fa-linkedin"></i>
              <a id="contact-linkedin" href="" target="_blank"></a>
            </p>
             <!-- Calendar button will appear here -->
            <div class="mt-4" id="calendar-button"></div>
            <script id="calendar-script"></script>

          </div>
          <div class="col-md-6">
            <form id="contactForm">
              <input
                type="hidden"
                name="access_key"
                value="1fd46f0f-9c72-4872-b1d3-1c413f666c8e"
              />
              <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  name="name"
                  placeholder="Your Name"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  name="email"
                  placeholder="Your Email"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="message" class="form-label">Message</label>
                <textarea
                  class="form-control"
                  id="message"
                  name="message"
                  rows="4"
                  placeholder="Your Message"
                  required
                ></textarea>
              </div>
              <button type="submit" class="btn btn-primary">
                Send Message
              </button>
            </form>
            <div
              id="formResponse"
              style="display:none; color: green; font-weight: bold;"
            >
              Thank you! Your message has been sent.
            </div>
            <script>
              document
                .getElementById("contactForm")
                .addEventListener("submit", async function (e) {
                  e.preventDefault();
                  const form = e.target;
                  const formData = new FormData(form);
                  try {
                    const response = await fetch(
                      "https://api.web3forms.com/submit",
                      {
                        method: "POST",
                        body: formData,
                      }
                    );
                    const result = await response.json();
                    if (result.success) {
                      document.getElementById("formResponse").style.display =
                        "block";
                      form.reset();
                    } else {
                      alert("Form submission failed. Please try again.");
                    }
                  } catch (error) {
                    alert("An error occurred. Please try again.");
                    console.error(error);
                  }
                });
            </script>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-4 bg-dark text-white text-center">
      <div class="container">
        <p class="mb-0">
          &copy; <span id="footer-year"></span> <span id="footer-name"></span>. All
          Rights Reserved.
        </p>
        <div class="social-links">
          <a id="footer-github" href="" class="text-white me-2" target="_blank"
            ><i class="fab fa-github"></i
          ></a>
          <a id="footer-linkedin" href="" class="text-white" target="_blank"
            ><i class="fab fa-linkedin"></i
          ></a>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Particles.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <!-- Particles.js Configuration -->
    <script>
      particlesJS("particles-js", {
        particles: {
          number: {
            value: 50,
            density: {
              enable: true,
              value_area: 800,
            },
          },
          color: {
            value: "#ffffff",
          },
          shape: {
            type: "circle",
            stroke: {
              width: 0,
              color: "#000000",
            },
            polygon: {
              nb_sides: 5,
            },
          },
          opacity: {
            value: 0.5,
            random: false,
            anim: {
              enable: false,
              speed: 1,
              opacity_min: 0.1,
              sync: false,
            },
          },
          size: {
            value: 3,
            random: true,
            anim: {
              enable: false,
              speed: 40,
              size_min: 0.1,
              sync: false,
            },
          },
          line_linked: {
            enable: true,
            distance: 150,
            color: "#ffffff",
            opacity: 0.4,
            width: 1,
          },
          move: {
            enable: true,
            speed: 3,
            direction: "none",
            random: false,
            straight: false,
            out_mode: "out",
            bounce: false,
            attract: {
              enable: false,
              rotateX: 600,
              rotateY: 1200,
            },
          },
        },
        interactivity: {
          detect_on: "canvas",
          events: {
            onhover: {
              enable: true,
              mode: "repulse",
            },
            onclick: {
              enable: true,
              mode: "push",
            },
            resize: true,
          },
          modes: {
            grab: {
              distance: 400,
              line_linked: {
                opacity: 1,
              },
            },
            bubble: {
              distance: 400,
              size: 40,
              duration: 2,
              opacity: 8,
              speed: 3,
            },
            repulse: {
              distance: 200,
              duration: 0.4,
            },
            push: {
              particles_nb: 4,
            },
            remove: {
              particles_nb: 2,
            },
          },
        },
        retina_detect: true,
      });
    </script>
    <!-- Header Scroll Transition Script -->
    <script>
      window.addEventListener("scroll", function () {
        const header = document.querySelector(".modern-header");
        if (window.scrollY > 50) {
          header.classList.add("scrolled");
        } else {
          header.classList.remove("scrolled");
        }
      });
    </script>
    <!-- Config Loader Script -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        fetch("config.json")
          .then((response) => response.json())
          .then((config) => {
            // Set document title
            document.title = config.title || "Portfolio";

            // Navbar
            document.getElementById("navbar-brand").innerText =
              config.navbar.brand;
            const navbarLinks = document.getElementById("navbar-links");
            navbarLinks.innerHTML = "";
            config.navbar.links.forEach((link) => {
              const li = document.createElement("li");
              li.className = "nav-item";
              const a = document.createElement("a");
              a.className = "nav-link";
              a.href = link.href;
              a.innerText = link.text;
              li.appendChild(a);
              navbarLinks.appendChild(li);
            });

            // Hero Section
            document.getElementById("hero-name").innerText =
              config.hero.name;
            document.getElementById("hero-role").innerText =
              config.hero.role;

            // About Section
            document.getElementById("about-heading").innerText =
              config.about.heading;
            document.getElementById("about-content").innerText =
              config.about.content;

            // Experience Section
            document.getElementById("experience-heading").innerText =
              config.experience.heading;
            const expContainer = document.getElementById("experience-container");
            expContainer.innerHTML = "";
            config.experience.items.forEach((item) => {
              const div = document.createElement("div");
              div.className = "timeline-item";
              const dateSpan = document.createElement("span");
              dateSpan.className = "timeline-date";
              dateSpan.innerText = item.date;
              const titleElem = document.createElement("h4");
              titleElem.innerText = item.title;
              const para = document.createElement("p");
              para.innerHTML = item.description;
              div.appendChild(dateSpan);
              div.appendChild(titleElem);
              div.appendChild(para);
              expContainer.appendChild(div);
            });

            // Projects Section
            document.getElementById("projects-heading").innerText =
              config.projects.heading;
            const projectsContainer =
              document.getElementById("projects-container");
            projectsContainer.innerHTML = "";
            config.projects.items.forEach((item) => {
              const colDiv = document.createElement("div");
              colDiv.className = "col";
              const cardDiv = document.createElement("div");
              cardDiv.className = "card project-card h-100";
              const img = document.createElement("img");
              img.className = "card-img-top";
              img.src = item.image || "default-project-image.jpg"; // Add image URL from config or use a default image
              img.alt = item.title;
              const cardBody = document.createElement("div");
              cardBody.className = "card-body project-card-body";
              const cardTitle = document.createElement("h5");
              cardTitle.className = "card-title project-card-title";
              cardTitle.innerText = item.title;
              const cardText = document.createElement("p");
              cardText.className = "card-text project-card-text";
              cardText.innerText = item.description;
              // const learnMoreLink = document.createElement("a");
              // learnMoreLink.href = item.link || "#"; // Add link URL from config or use a placeholder
              // learnMoreLink.className = "btn btn-primary";
              // learnMoreLink.innerText = "Learn More";
              cardBody.appendChild(cardTitle);
              cardBody.appendChild(cardText);
              // cardBody.appendChild(learnMoreLink);
              cardDiv.appendChild(img);
              cardDiv.appendChild(cardBody);
              colDiv.appendChild(cardDiv);
              projectsContainer.appendChild(colDiv);
            });

            // Skills Section
            document.getElementById("skills-heading").innerText =
              config.skills.heading;
            const skillsLanguages = document.getElementById("skills-languages");
            skillsLanguages.innerHTML = "";
            config.skills.languages.forEach((lang) => {
              const li = document.createElement("li");
              li.innerText = lang;
              skillsLanguages.appendChild(li);
            });
            // Skills Section - Tools
            const skillsTools = document.getElementById("skills-tools");
            skillsTools.innerHTML = "";
            config.skills.tools.forEach((toolGroup) => {
              const li = document.createElement("li");
              if (Array.isArray(toolGroup)) {
                li.innerText = toolGroup.join(", ");
              } else {
                li.innerText = toolGroup; // Fallback if it's already a string
              }
              skillsTools.appendChild(li);
            });



            // Education Section
            document.getElementById("education-heading").innerText =
              config.education.heading;
            const eduContainer =
              document.getElementById("education-education");
            eduContainer.innerHTML = "";
            const latestEdu = config.education.education[0];
            const p = document.createElement("p");
            p.innerHTML = `<strong>${latestEdu.degree}</strong><br />${latestEdu.institution} (${latestEdu.year})`;
            eduContainer.appendChild(p);
            const certList = document.getElementById("education-certifications");
            certList.innerHTML = "";
            config.education.certifications.forEach((cert) => {
              const li = document.createElement("li");
              li.innerText = cert;
              certList.appendChild(li);
            });

            // Books Section
            document.getElementById("books-heading").innerText =
              config.books.heading;
            const booksContainer =
              document.getElementById("books-container");
            booksContainer.innerHTML = "";
            config.books.items.forEach((book) => {
              const colDiv = document.createElement("div");
              colDiv.className = "col-md-6";
              const cardDiv = document.createElement("div");
              cardDiv.className = "card mb-3";
              const cardBody = document.createElement("div");
              cardBody.className = "card-body";
              const cardTitle = document.createElement("h5");
              cardTitle.className = "card-title";
              cardTitle.innerText = book.title;
              const cardText = document.createElement("p");
              cardText.className = "card-text";
              cardText.innerText = book.description;
              const bookLink = document.createElement("a");
              bookLink.href = book.amazon;
              bookLink.className = "btn btn-outline-primary";
              bookLink.target = "_blank";
              bookLink.innerText = "View on Amazon";
              cardBody.appendChild(cardTitle);
              cardBody.appendChild(cardText);
              cardBody.appendChild(bookLink);
              cardDiv.appendChild(cardBody);
              colDiv.appendChild(cardDiv);
              booksContainer.appendChild(colDiv);
            });

            // Podcast Section
            document.getElementById("podcast-heading").innerText =
              config.podcast.heading;
            document.getElementById("podcast-title").innerText =
              config.podcast.title;
            document.getElementById("podcast-description").innerText =
              config.podcast.description;
            const podcastLink = document.getElementById("podcast-link");
            podcastLink.href = config.podcast.spotify;

            // Contact Section
            document.getElementById("contact-heading").innerText =
              config.contact.heading;
            const contactEmail = document.getElementById("contact-email");
            contactEmail.innerText = config.contact.email;
            contactEmail.href = "mailto:" + config.contact.email;
            document.getElementById("contact-location").innerText =
              config.contact.location;
            const contactLinkedin =
              document.getElementById("contact-linkedin");
            contactLinkedin.innerText = "LinkedIn Profile";
            contactLinkedin.href = config.contact.linkedin;

            // (1) Check if we have a calendar link in config
            if (config.contact.calendar) {
              // (2) Put the necessary <script> content into the #calendar-script element
              const calendarScript = document.getElementById("calendar-script");
              calendarScript.textContent = `
                (function() {
                  window.addEventListener('load', function() {
                    // "target" is our calendar-button <div>
                    const target = document.getElementById('calendar-button');
                    calendar.schedulingButton.load({
                      url: '${config.contact.calendar}',
                      color: '#0d6efd',
                      label: 'Book an appointment',
                      target: target
                    });
                  });
                })();
              `;
            }

            // Footer
            document.getElementById("footer-year").innerText =
              new Date().getFullYear();
            document.getElementById("footer-name").innerText =
              config.hero.name;
            const footerGithub =
              document.getElementById("footer-github");
            footerGithub.href = config.contact.github;
            const footerLinkedin =
              document.getElementById("footer-linkedin");
            footerLinkedin.href = config.contact.linkedin;
          })
          .catch((error) => console.error("Error loading config:", error));
      });
    </script>
  </body>
</html>
